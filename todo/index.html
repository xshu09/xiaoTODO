<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <style>
        * {
            margin:0;
            padding:0;
        }
        body {
            background-color: rgb(232, 82, 55);
            font: 16px/28px 'Microsoft YaHei';
            background-image: url(/image/dengta.jpg);
        }

        h1 {
            text-align: center;
            color: aliceblue;
            padding: 25px;
        }

        #task {
            margin: 0;

        }

        li {
            padding: 10px;
        }

        #content {
            width: 80%;
            height: 40px;
            display: inline-block;
            border: groove;
            border-width: 3px;
            border-radius: 10px;
            margin: 0 auto;
            
        }

        #content:hover {
            border: solid;
        }

        #content:focus {
            -moz-box-shadow: 0 0 10px #06c;
            -webkit-box-shadow: 0 0 10px #06c;
            box-shadow: 0 0 10px #06c;
        }

        .add-todo {
            text-align: center;

        }
        .todo  {
            width: 70%;
        }
        .ipt {
            display: flex;
            align-items: center;
        }
    </style>
</head>

<body>
    <h1 class="head">今日待办</h1>
    <div class="todo">
        <ul id="task" style="list-style: none;">
        </ul>
    </div>

    <!-- 1、取到这里的input组件里的text文本值，
                2、传入li这个组件里 -->
    <!--设置伪类元素，鼠标放在input标签上，外框会加黑线粗，有点高亮的效果:hover -->
    <div class="ipt">
        <input type="text" id="content">
    </div>
    
    <!-- TODO:当input内容为空时，将btn置为不可操作状态，同时将颜色置为淡灰色 
        这里我已经删除掉btn了，直接将key回车事件等价为submit-->

    <script>
        btn = document.getElementById('btn')
        function createtask() {
            // 获取input组件里的value
            var content = document.getElementById('content').value;
            //当input为空，btn 的click是不可以执行的，同时给出提示
            // 当input为空，点击btn时候，input输入框内显示红色字符提示，“请输入你的代办”

            if (content.length != 0) {
                ul = document.getElementById('task');
                var checkBox = document.createElement("input");
                checkBox.setAttribute("type", "checkbox");
                var ctt = document.createTextNode(content)//考虑创建文本节点，将这个节点放到父节点后面

                var li = document.createElement('li')
                li.appendChild(checkBox);
                li.appendChild(ctt);
                //TODO:设置checkbox的左侧空隙为适当的间隔，设置css样式
                //TODO:设置当鼠标点击checkbox，即为checked状态时，将文本ctt加上删除线，text-decoration:line-through
                ul.appendChild(li);

                //将btn点击后，input内容置为空。
                document.getElementById('content').value = "";//这里的置空是生效的
                //content = '';//TODO:这里置为空是生效的，只是input框内的值还在，是不是因为变量作用域的问题，还是content只是这个value的一个复制，并不是它本身
                console.log(content)

            }
            else {
                alert('请添加您的代办任务')
            }


        }
        // btn.onclick = createtask;监听input回车事件，删除掉button监听事件。
        document.getElementById('content').onkeydown = function (event) {
            if (event.keyCode == "13") {
                createtask();
            }
        }



        //添加keyboard监听，enter keydown和提交按钮同样的效果
    </script>
</body>

</html>